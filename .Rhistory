library(tidyverse)
library(psych)
library(geomnet)
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'post.freq.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('post.freq.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = FALSE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('seedisrael - Minimum Sim: 30 - No Retweets') +
theme(legend.position = "bottom"))
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'post.freq.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('post.freq.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = FALSE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('seedisrael - Minimum Sim: 30 - No Retweets') +
theme(legend.position = "bottom"))
library(tidyverse)
library(psych)
library(geomnet)
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'post.freq.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('post.freq.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = FALSE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('seedisrael - Minimum Sim: 30 - No Retweets') +
theme(legend.position = "bottom"))
library(tidyverse)
library(psych)
library(geomnet)
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'post.freq.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('post.freq.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = FALSE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('seedisrael - Minimum Sim: 30 - No Retweets') +
theme(legend.position = "bottom"))
df <- read.clipboard(header = TRUE)
df
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'post.freq.sim')])
library(tidyverse)
library(psych)
library(geomnet)
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'ngram-clust-sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('ngram-clust-sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = FALSE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('seedisrael - Minimum Sim: 30 - No Retweets') +
theme(legend.position = "bottom"))
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'ngram-clust-sim')])
df <- read.clipboard(header = TRUE)
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'ngram-clust-sim')])
as.edgedf(df[,c('user1','user2')])
df[,c('user1', 'ngram-clust-sim')]
df
library(tidyverse)
library(psych)
library(geomnet)
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'ngram.clust.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('ngram.clust.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = FALSE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('seedisrael - Minimum Sim: 30 - No Retweets') +
theme(legend.position = "bottom"))
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('ngram.clust.sim')]
)
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'ngram.clust.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('ngram.clust.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = FALSE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('seedisrael - Minimum Sim: 30 - No Retweets') +
theme(legend.position = "bottom"))
df
df[df$ngram.clust.sim > 3]
df[df$ngram.clust.sim > 3,]
df[df$ngram.clust.sim > 4,]
df <- df[df$ngram.clust.sim > 4,]
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'ngram.clust.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('ngram.clust.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = FALSE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('seedisrael - Minimum Sim: 30 - No Retweets') +
theme(legend.position = "bottom"))
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = FALSE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('midterms_democrats - Minimum Sim: 4 - No Retweets') +
theme(legend.position = "bottom"))
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 2.5,
size = .35, curvature = 0.00, selfloops = TRUE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('midterms_democrats - Minimum Sim: 4 - No Retweets') +
theme(legend.position = "bottom"))
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 4.5,
size = .35, curvature = 0.00, selfloops = TRUE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('midterms_democrats - Minimum Sim: 4 - No Retweets') +
theme(legend.position = "bottom"))
library(tidyverse)
library(psych)
library(geomnet)
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'ngram.clust.sim')])
df
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'imgdupe.clust.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
post.freq.sim = net_data[,c('imgdupe.clust.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'imgdupe.clust.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
imgdupe.clust.sim = net_data[,c('imgdupe.clust.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 4.5,
size = .35, curvature = 0.00, selfloops = TRUE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('midterms_democrats - Minimum Sim: 4 - No Retweets') +
theme(legend.position = "bottom"))
library(ggplot2)
library(lme4)
library(lmerTest)
library(dplyr)
library(tidyr)
library(my.personal.funcs)
library(wesanderson)
library(tikzDevice)
install.packages('lme4')
library(tidyverse)
library(psych)
library(geomnet)
df <- read.clipboard(header = TRUE)
net_data <-
fortify(
as.edgedf(df[,c('user1','user2')]),
df[,c('user1', 'imgdupe.clust.sim')])
net_data2 <-
cbind.data.frame(
from_id = net_data[,c('to_id')],
to_id = net_data[,c('from_id')],
imgdupe.clust.sim = net_data[,c('imgdupe.clust.sim')]
)
net_data = rbind.data.frame(net_data, net_data2)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 4.5,
size = .35, curvature = 0.00, selfloops = TRUE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('midterms_democrats - Minimum Sim: 4 - No Retweets') +
theme(legend.position = "bottom"))
pdf()
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 4.5,
size = .35, curvature = 0.00, selfloops = TRUE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('midterms_democrats - Minimum Sim: 4 - No Retweets') +
theme(legend.position = "bottom"))
dev.off()
getcwd()
getcd()
getwd()
pdf(height = 10, width = 10)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 4.5,
size = .35, curvature = 0.00, selfloops = TRUE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('midterms_democrats - Minimum Sim: 4 - No Retweets') +
theme(legend.position = "bottom"))
dev.off()
pdf(height = 15, width = 15)
print(ggplot(data = net_data,
aes(from_id = from_id, to_id = to_id)) +
geom_net(layout.alg = "fruchtermanreingold",
ealpha = .25, linewidth = .35, labelon = TRUE, fontsize = 4.5,
size = .35, curvature = 0.00, selfloops = TRUE,
ecolour = 'black', labelcolour = 'black', color = 'black',
singletons = FALSE, directed = FALSE, repel = TRUE) +
theme_net() + ggtitle('midterms_democrats - Minimum Sim: 4 - No Retweets') +
theme(legend.position = "bottom"))
dev.off()
install.packages('etas')
install.packages('ETAS')
library(ETAS)
help(ETAS)
?ETAS
?ETAS
??ETAS
iran.cat <- catalog(iran.quakes, time.begin="1973/01/01",
study.start="1986/01/01", study.end="2016/01/01",
lat.range=c(26, 40), long.range=c(44, 63), mag.threshold=5)
print(iran.cat)
plot(iran.cat)
# setting initial parameter values
param0 <- c(0.46, 0.23, 0.022, 2.8, 1.12, 0.012, 2.4, 0.35)
iran.fit <- etas(iran.cat, param0=param0, nthreads = 4)
iran.fit <- etas(
iran.cat,
param0=param0,
cxxcode = TRUE,
nthreads = 4
)
iran.fit <- etas(
iran.cat,
param0=param0,
cxxcode = TRUE,
nthreads = 8
)
iran.fit <- etas(
iran.cat,
param0=param0,
cxxcode = TRUE,
nthreads = 4
)
str(iran.fit)
iran.fit <- etas(
iran.cat,
param0=param0,
plot.it = TRUE
cxxcode = TRUE,
nthreads = 4
)
iran.fit <- etas(
iran.cat,
param0=param0,
plot.it = TRUE,
cxxcode = TRUE,
nthreads = 4
)
str(iran.cat)
library(psych)
this <- read.clipboard()
str(this)
plot(1:7486, this$X1)
plot()
plot(1:7486, this$X1, type='s')
setwd("~/Dropbox/aa projects/coldplay/incarceration_trends/incarceration_trends")
library(tidyverse)
inc_df <- read.csv("incarceration_trends.csv")
str(inc_df)
colnames(inc_df)
colnames(inc_df)[22:35]
unique(inc_df$year)
setwd("~/Dropbox/aa projects/incarceration_trends/incarceration-trends")
read_csv('repweissman_request_moneybail.csv')
mb_df <- read_csv('repweissman_request_moneybail.csv')
mb_df
mb_df$X5
length(mb_df$X5)
sum(is.na((mb_df$X5))
)
mb_df %>%
gather("year", "amount", 2:4)
67/3
mb_df <- read_csv('repweissman_request_moneybail.csv')
mb_df %>%
gather("year", "amount", 2:4)
lenght(mb_df  )
length(mb_df  )
idm(mb_df)
dim(mb_df)
tail(mb_df)
mb_df <- read_csv('repweissman_request_moneybail.csv')
tail(mb_df)
rep(33, c(1,2,3))
rep(c(1,2,3), 33)
order(rep(c(1,2,3), 33))
sort(rep(c(1,2,3), 33))
1:66
c(1:22, 1:22, 1:22)
sort(c(1:22, 1:22, 1:22))
mb_df <- mb_df %>%
gather("year", "amount", 2:4)
mb_df <- read_csv('repweissman_request_moneybail.csv')
mb_df$district <- sort(c(1:22, 1:22, 1:22))
mb_df
bond_type <- mf_df$District
bond_type <- mb_df$District
vera_df <- read.csv("incarceration_trends.csv")
inc_df
head(inc_df[inc_df$state = "CO"])
head(inc_df[inc_df$state = "CO",])
head(inc_df[inc_df$state == "CO",])
dim(inc_df[inc_df$state == "CO",]))
dim(inc_df[inc_df$state == "CO",])
unique(inc_df[inc_df$state == "CO",]$county_name)
length(unique(inc_df[inc_df$state == "CO",]$county_name))
lapply(mb_df$District, function(x) {
ifelse(is.numeric(x), "total", x)
}
)
is.numeric("22")
is.finite("22")
as.numeric("22")
lapply(mb_df$District, function(x) {
ifelse(is.finite(as.numeric(x)), "total", x)
})
warnings()
mb_df <- read_csv('repweissman_request_moneybail.csv')
mb_df$district <- sort(c(1:22, 1:22, 1:22))
mb_df$District <- lapply(mb_df$District, function(x) {
ifelse(is.finite(as.numeric(x)), "Total", x)
})
mb_df
mb_df$District <- unlist(lapply(mb_df$District, function(x) {
ifelse(is.finite(as.numeric(x)), "Total", x)
}))
mb_df
mb_df <- read_csv('repweissman_request_moneybail.csv')
mb_df$district <- sort(c(1:22, 1:22, 1:22))
mb_df$bond_type <- unlist(lapply(mb_df$District, function(x) {
ifelse(is.finite(as.numeric(x)), "Total", x)
}))
mb_df
mb_df <- mb_df[,2:6] %>%
gather("year", "amount", 2:4)
mb_df
mb_df <- read_csv('repweissman_request_moneybail.csv')
mb_df$district <- sort(c(1:22, 1:22, 1:22))
mb_df$bond_type <- unlist(lapply(mb_df$District, function(x) {
ifelse(is.finite(as.numeric(x)), "Total", x)
}))
mb_df <- mb_df[,2:6] %>%
gather("year", "amount", 1:3)
mb_df
write_csv(mb_df, "repweissman_request_moneybail.csv")
mb_df %>%
spread(bond_type)
mb_df %>%
spread(bond_type)
mb_df %>%
spread(bond_type, year)
mb_df %>%
spread(bond_type)
mb_df %>%
spread(bond_type, amount)
mb_df <- mb_df %>%
spread(bond_type, amount)
colnames(mb_df)
colnames(mb_df) <- c('district', 'year',
'cash_surety_property_bond_frequency',
'personal_recognizance_bond_frequency',
'total_bond_frequency')
colnames(mb_df)
write_csv(mb_df, "repweissman_request_moneybail.csv")
